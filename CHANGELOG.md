### v1.0.5
**改动**
- 整体改为安装包形式

**优化**
- 优化了配置引导脚本
  - 新增了在配置引导里的手动配置cookie

**新增**
- 新增了安装时手动配置cookie的选项
- 新增了在配置引导里的手动配置cookie

---

### v1.0.0-fix2
 **修复**
- 修复提前切歌功能只显示提示但不执行切换的问题
- 修复进度监控在剩余时间判断时的逻辑错误
- 改进切歌时机算法，实现真正的无缝衔接

 **已知问题**
- 浏览器输出画面播放器组件进度条异常跳跃(不影响切歌)
- 浏览器输出画面计数组件无法正常工作

---

### v1.0.0-fix1
 **修复**
- 修复 OBS 浏览器源无法正常显示点歌人信息的问题
- 修复 OBS 元素引用变量名不一致导致的显示异常

**优化**
- 改进 OBS 显示模块的数据传递机制
- 优化歌手信息获取逻辑，支持从 API 状态自动更新

**已知问题**
- 歌手信息一直显示"获取中"

---

### v1.0.0
**新增**
- 新增智能提前切歌功能，可在歌曲结束前指定秒数自动切换
- 新增完整的项目文档和使用教程
- 新增启动器脚本 start.js，提供交互式菜单
- 新增系统检查脚本 check-before-start.js
- 新增 OBS 测试工具 test-obs.js
- 新增配置向导 setup.js

**修复**
- 完全修复无法正常切歌的核心问题
- 修复程序与洛雪音乐播放控制冲突
- 修复队列管理逻辑错误
- 修复播放状态同步问题
- 修复多个定时器重叠导致的混乱

**优化**
- 完全重写 bot.js 核心逻辑
- 优化播放控制策略，避免与洛雪音乐冲突
- 改进错误处理和日志系统
- 优化代码结构，提高可维护性

**已知问题**
- OBS 浏览器源无法正常显示歌手和点歌人信息

---

### v0.9.5-alpha1
**尝试修复**
- 尝试修复切歌功能（部分成功）
- 新增百分比进度切歌机制（实验性）

**已知问题**
- 切歌功能依然无法稳定工作
- 百分比切歌时机不准确

*辅助 AI：Claude-4-1-opus 、OpenAI o3*

---

### v0.9.0（第二次重构）
#### 重要说明  
**此版本存在严重问题，不建议使用**

**问题**
- 严重：完全无法正常切歌
- 播放控制逻辑混乱
- 定时器管理存在重大缺陷

*辅助 AI：Claude-4-1-opus*

---

### v0.8.0（第一次重构）


**新增**
- 新增 OBS 显示支持
  - 实时显示当前播放歌曲信息
  - 播放进度条可视化
  - 点歌队列显示
  - 新点歌弹窗动画
- 新增播放进度百分比显示
- 新增歌词显示支持（实验性）
- 新增礼物触发点歌功能

**修复**
- 修复弹幕重复输出问题
- 修复用户权限判断错误
- 修复 Cookie 解析失败的问题

**优化**
- 优化 WebSocket 连接稳定性
- 改进断线重连机制

*辅助 AI：Claude-4-1-opus、OpenAI o3、Google Gemini 2.5*

---

### v0.5.0 - v0.7.0（早期版本）

**核心功能实现**
- 实现 B 站直播间弹幕监听（使用 tiny-bilibili-ws）
- 实现 LX Music 控制
  - Scheme URL 调用支持
  - Open API 状态监控
- 实现基础点歌功能
- 实现权限系统（主播/管理员/VIP/普通用户）

**命令系统**
- 基础命令：!点歌、!歌单、!当前
- VIP 命令：!优先、!切歌
- 管理命令：!插播、!清空、!拉黑
- 主播命令：!设置、!切源

**数据管理**
- 新增黑白名单系统
- 新增用户数据持久化
- 新增播放历史记录

**修复**
- 修复大量初期 bug
- 修复内存泄漏问题
- 修复编码问题

*辅助 AI：Claude-4-1-opus、OpenAI o3*

---

### v0.1.0 - v0.4.0（初始版本）

**项目初始化**
- 实现最基础的弹幕接收
- 实现简单的点歌功能
- 初步集成 LX Music
- 建立基本项目结构

---

 架构演进

| 版本 | 架构特点 | 主要问题 | 解决方案 |
|------|---------|---------|---------|
| v0.1-0.4 | 单文件，功能耦合 | 难以维护 | 第一次重构 |
| v0.5-0.8 | 模块化，功能分离 | 切歌逻辑有缺陷 | 第二次重构 |
| v0.9 | 过度设计 | 严重bug | 第三次重构 |
| v1.0+ | 清晰架构，稳定运行 | - | 持续优化 |

 致谢

- [LX Music](https://github.com/lyswhut/lx-music-desktop) - 音乐播放器
- [tiny-bilibili-ws](https://github.com/starknt/tiny-bilibili-ws) - B站弹幕库
- 所有测试用户和反馈者
- AI 助手：Claude-4-1-opus、OpenAI o3、Google Gemini 2.5

---
